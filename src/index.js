/**
 * Framework
 * ===
 *
 * @module framework
 */

////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////
import Registry from './registry';
import Router from './router/router';

////////////////////////////////////////////////////////////////////////////////
// Class
////////////////////////////////////////////////////////////////////////////////
/**
 * Framework
 * @class
 */
class Framework {

  //////////////////////////////////////////////////////////////////////////////
  // Private Properties
  //////////////////////////////////////////////////////////////////////////////
  _router;
  _registry;
  _ajaxService;
  //////////////////////////////////////////////////////////////////////////////
  // Public Properties
  //////////////////////////////////////////////////////////////////////////////

  constructor() {
    let root = document.getElementById('root');

    this._router = new Router(root);
    this._registry = new Registry();
    this._ajaxService = new AjaxService();

    this._router.addRoute({name: 'game' });

    let pathname = window.location.pathname;
    let parts = window.location.pathname.split('/');
    this._router.loadRoute(parts[1]);

  }

}

////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////
export default Framework;
